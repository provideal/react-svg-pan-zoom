{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/index.js","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/webpack/runtime/define property getters","webpack://ReactSVGPanZoom/webpack/runtime/hasOwnProperty shorthand","webpack://ReactSVGPanZoom/webpack/runtime/make namespace object","webpack://ReactSVGPanZoom/webpack/startup"],"names":["MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","ALIGN_COVER","INITIAL_VALUE","eventFactory","originalEvent","value","SVGViewer","eventType","type","ViewerMouseEvent","ViewerTouchEvent","Error","ViewerEvent","preventDefault","stopPropagation","_cacheDecomposedValue","scaleFactor","translationX","translationY","_cachePoint","event","mousePosition","x","y","point","_cachePoints","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","i","length","touch","rect","getBoundingClientRect","clientX","Math","round","left","clientY","top","push","identifier","VERSION","DEFAULT_MODE","getDefaultValue","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","patch","action","Object","assign","freeze","isValueValid","hasOwnProperty","getSVGPoint","viewerX","viewerY","matrix","inverseMatrix","decompose","a","e","f","setFocus","setViewerSize","setSVGViewBox","setZoomLevels","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","reset","resetMode","getTouchPosition","ViewerDOM","onTouchStart","tool","props","isMultiTouch","onMultiTouch","indexOf","onSingleTouch","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","nextValue","shouldResetPinchPointDistance","onMouseUp","onTouchCancel","hasPinchPointDistance","detectPinchGesture","nextValueFn","touchPosition","x1","y1","x2","y2","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","getMousePosition","coords","SVGPoint","forceExit","buttons","preventPanOutside","undefined","onDoubleClick","disableDoubleClickZoomWithToolAuto","modifierKeys","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","onWheel","detectWheel","delta","max","min","deltaY","scaleFactorOnWheel","onMouseEnterOrLeave","onInterval","detectAutoPan","openMiniature","closeMiniature","pan","SVGDeltaX","SVGDeltaY","panLimit","moveX","moveY","startPanning","updatePanning","start","end","deltaX","stopPanning","autoPanIfNeeded","d","isZoomLevelGoingOutOfBounds","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","limitZoomLevel","scaleLevel","zoom","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","translateY","translateX","remainderY","remainderX","translationMatrix","fitToViewer","SVGAlignX","SVGAlignY","scaleMatrix","zoomOnViewerCenter","startZooming","updateZooming","stopZooming","TOLERATED_DISTANCE","abs","box","width","height","Viewer","github_base","doc_v1_to_v2","doc_v2_to_v3","tipNoViewer","console","error","tipControlledComponent","tipDeprecatedMiniatureProps","tipDeprecateToolbarProps","printMigrationTipsRelatedToProps","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","toolbarPosition","IconArrow","open","position","transform","propTypes","PropTypes","bool","isRequired","oneOf","prefixID","MiniatureMask","zoomToFit","_uid","maskID","stroke","fill","mask","opacity","number","MiniatureToggleButton","onChangeValue","style","display","bottom","object","func","Miniature","children","background","SVGBackground","ratio","overflow","outline","transition","centerTranslation","pointerEvents","string","defaultProps","IconCursor","IconFit","IconPan","IconZoomIn","IconZoomOut","ToolbarButton","state","hover","setState","margin","color","active","activeColor","padding","border","cursor","change","onClick","title","name","React","Component","Toolbar","onChangeTool","activeToolColor","handleChangeTool","handleFit","isHorizontal","right","backgroundColor","borderRadius","flexDirection","BorderGradient","direction","gradientID","needPrefix","userAgent","navigator","toLowerCase","isFirefox","isWebkit","isTouchDevice","window","maxTouchPoints","Selection","UncontrolledReactSVGPanZoom","defaultValue","defaultTool","changeTool","bind","changeValue","uid","nextUID","RandomUID","WrappedComponent","displayName","calculateBox","getDisplayName","isNullOrUndefined","mapRange","sourceStart","sourceEnd","targetStart","targetEnd","parseViewBox","viewBoxString","split","filter","Boolean","map","Number","ReactSVGPanZoom","context","SVGViewBox","viewBox","pointerX","pointerY","autoPanLoop","process","prevProps","getValue","needUpdate","setValue","autoPanIsRunning","requestAnimationFrame","addEventListener","removeEventListener","onZoom","onPan","getTool","target","eventsHandler","click","dblclick","mousemove","mouseup","mousedown","touchstart","touchmove","touchend","touchcancel","onEventHandler","customToolbar","CustomToolbar","customMiniature","CustomMiniature","panningWithToolAuto","blockChildEvents","touchAction","className","handleViewerEvent","SVGStyle","toolbarProps","miniatureProps","oneOfType","shape","b","c","array","element","propName","componentName","prop","types","Children","count","join","disableZoomWithToolAuto"],"mappings":"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;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO;AACP;AACA;;;AC1BA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,gEAAgE,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP;;AAEA,SAAS,mBAAmB;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;;AClB6C;;AAE7C;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,QAAQ;AACpB;;AAEO;AACP,SAAS,QAAQ;AACjB;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;;;ACtBA;AACA;AACA,cAAc,OAAO;AACrB,oBAAoB,OAAO;AAC3B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,oBAAoB,qBAAqB;AACzC,aAAa,OAAO;AACpB;AACO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,qBAAqB;AACzC,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC5CqC;AACE;AACA;;AAEvC,OAAO,eAAe;AACtB;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC3CqC;AACE;AACA;;AAEvC;AACA;AACA,cAAc,OAAO;AACrB,qBAAqB,OAAO;AAC5B,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP,MAAM,WAAW;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;;ACjCA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA,OAAO,MAAM;;AAEb;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC5BA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO,SAAS,iBAAQ;AACxB,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACxF;;;ACzBA;AACA;AACA,kBAAkB,OAAO;AACzB,uBAAuB,OAAO;AAC9B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfmC;AACI;AACM;;AAE7C;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,aAAa,OAAO;AACpB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B,uBAAuB,SAAS;;AAEhC;AACA,SAAS,YAAY;AACrB;;;ACpDyC;AACF;AACR;AACK;AACJ;AACD;;AAE/B;AACA;AACA,yCAAyC,SAAS;AAClD,aAAa,SAAS;AACtB;AACA;AACA;AACA,KAAK,+CAA+C;AACpD,KAAK,oCAAoC;AACzC,KAAK,8BAA8B;AACnC,KAAK,4CAA4C;AACjD,KAAK,2BAA2B;AAChC,KAAK,4BAA4B;AACjC,KAAK;AACL;AACA;AACA;AACA,KAAK,qCAAqC;AAC1C,KAAK,uCAAuC;AAC5C,KAAK,qCAAqC;AAC1C,KAAK,8CAA8C;AACnD,KAAK,0CAA0C;AAC/C,KAAK,wCAAwC;AAC7C,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B,SAAS;AACT;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;;AAEhD,eAAe,SAAS;;AAExB;AACA;;AAEA,uCAAuC,KAAK;;AAE5C,eAAe,KAAK;;AAEpB;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,eAAe,SAAS;;AAExB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,KAAK;;AAEpB;AACA;AACA;AACA;AACA;;;AC3FA;;AAEA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,WAAW;AACxC,gCAAgC;AAChC;AACA,iBAAiB,mDAAmD;AACpE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,6BAA6B;AACzD,6BAA6B,UAAU;AACvC,kCAAkC,iBAAiB;AACnD,8BAA8B,oBAAoB;AAClD,gCAAgC;AAChC,gCAAgC;AAChC,kCAAkC,6DAA6D;AAC/F,6BAA6B,mBAAmB;AAChD,gCAAgC;;AAEhC;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,iCAAiC;AACxD;;AAEA;AACA;;AAEA,gCAAgC,QAAQ;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C;AACA;AACA,gDAAgD;AAChD,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAKE;;AAEF,2EAAe;AACf;AACA;AACA,CAAC,EAAC;;;AC76C4D;;AAE9D;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA,KAAK,qCAAqC;AAC1C,KAAK,8BAA8B;AACnC,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP,SAAS,SAAK;AACd;;;ACrB8B;AACF;AACA;AACF;AACD;AACO;AACR;AACD;AACA;AACD;AACI;AACC;AACA;AACI;AACD;AACE;AACQ;;;;;;;;AChBxC,kD;;;;;;;ACAA,kD;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"react-svg-pan-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__698__, __WEBPACK_EXTERNAL_MODULE__409__) {\nreturn ","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let translateY = 0;\n  let translateX = 0;\n\n  // aligning selection to center of view\n  if (scaleX < scaleY) {\n    // match in width; sits on top -> centering by moving down\n    let remainderY = viewerHeight - scaleX * selectionHeight;\n    translateY = Math.round(remainderY / 2) * scaleLevel;\n  } else {\n    // match in height; sits left -> centering by moving right\n    let remainderX = viewerWidth - scaleY * selectionWidth;\n    translateX = Math.round(remainderX / 2) * scaleLevel;\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel), //2\n    translationMatrix              //1\n  );\n  \n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","import {tipNoViewer} from \"./migration-tips\";\n\nexport {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as ToolbarButton} from './ui-toolbar/toolbar-button';\nexport {default as IconCursor} from './ui-toolbar/icon-cursor';\nexport {default as IconPan} from './ui-toolbar/icon-pan';\nexport {default as IconFit} from './ui-toolbar/icon-fit';\nexport {default as IconZoomIn} from './ui-toolbar/icon-zoom-in';\nexport {default as IconZoomOut} from './ui-toolbar/icon-zoom-out';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  tipNoViewer()\n  return null;\n};\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/master'\n\nconst doc_v1_to_v2 = github_base + '/docs/migrate-from-v1-to-v2.md'\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipNoViewer() {\n  console.error(`HEY! You are trying to use an older version of ReactSVGPanZoom. Please read here ${doc_v1_to_v2}`)\n}\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, activeToolColor, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP,\n  activeToolColor: '#1CA6FC'\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar = Toolbar, customMiniature: CustomMiniature = Miniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n\n  /**\n   *   width of the viewer displayed on screen\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n  * height of the viewer displayed on screen\n  */\n  height: PropTypes.number.isRequired,\n\n  /**\n  * value of the viewer (current camera view)\n  */\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  /**\n  * handler something changed\n  */\n  onChangeValue: PropTypes.func.isRequired,\n\n  /**\n  * current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  */\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  /**\n  * handler tool changed\n  */\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  /**\n  * background of the viewer\n  */\n  background: PropTypes.string,\n\n  /**\n  * background of the svg\n  */\n  SVGBackground: PropTypes.string,\n\n  /**\n  * style of the svg\n  */\n  SVGStyle: PropTypes.object,\n\n  /**\n  * CSS style of the Viewer\n  */\n  style: PropTypes.object,\n\n  /**\n  * className of the Viewer\n  */\n  className: PropTypes.string,\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  /**\n  * perform zoom operation on mouse scroll\n  */\n  detectWheel: PropTypes.bool,\n\n  /**\n  * perform PAN if the mouse is on viewer border\n  */\n  detectAutoPan: PropTypes.bool,\n\n  /**\n  * perform zoom operation on pinch gesture\n  */\n  detectPinchGesture: PropTypes.bool,\n\n  /**\n  * handler zoom level changed\n  */\n  onZoom: PropTypes.func,\n\n  /**\n  * handler pan action performed\n  */\n  onPan: PropTypes.func,\n\n  /**\n  * handler click\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * handler double click\n  */\n  onDoubleClick: PropTypes.func,\n\n  /**\n  * handler mouseup\n  */\n  onMouseUp: PropTypes.func,\n\n  /**\n  * handler mousemove\n  */\n  onMouseMove: PropTypes.func,\n\n  /**\n  * handler mousedown\n  */\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  /**\n  * if disabled the user can move the image outside the viewer\n  */\n  preventPanOutside: PropTypes.bool,\n\n  /**\n  * how much scale in or out\n  */\n  scaleFactor: PropTypes.number,\n\n  /**\n  * how much scale in or out on mouse wheel (requires detectWheel enabled)\n  */\n  scaleFactorOnWheel: PropTypes.number,\n\n  /**\n  * maximum amount of scale a user can zoom in to\n  */\n  scaleFactorMax: PropTypes.number,\n\n  /**\n  * minimum amount of a scale a user can zoom out of\n  */\n  scaleFactorMin: PropTypes.number,\n\n  /**\n  * modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  */\n  modifierKeys: PropTypes.array,\n\n  /**\n  * Turn off zoom on double click\n  */\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override miniature component\n  */\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * miniature props\n  */\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override toolbar component\n  */\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * toolbar props\n  */\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  /**\n  * accept only one node SVG\n  */\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  miniatureProps: {},\n};\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point)\n    ? [\n        matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n        matrix.b * point[0] + matrix.d * point[1] + matrix.f\n      ]\n    : {\n        x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n        y: matrix.b * point.x + matrix.d * point.y + matrix.f\n      }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by PEG.js v0.11.0-master.b7b87ea, https://pegjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  // istanbul ignore next\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found, location) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    },\n\n    not: function(expectation) {\n      return \"not \" + describeExpectation(expectation.expected);\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e11 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e12 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e13 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n        return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n      };\n  var peg$f3 = function(tx, ty) {\n        var t = {type: 'translate', tx: tx};\n        if (ty) t.ty = ty;\n        return [t];\n      };\n  var peg$f4 = function(sx, sy) {\n        var s = {type:'scale', sx: sx};\n        if (sy) s.sy = sy;\n        return [s];\n      };\n  var peg$f5 = function(angle, c) {\n        var r = {type:'rotate', angle: angle};\n        if (c) {\n          r.cx = c[0];\n          r.cy = c[1];\n        }\n        return [r];\n      };\n  var peg$f6 = function(angle) {\n        return [{type: 'skewX', angle: angle}];\n      };\n  var peg$f7 = function(angle) {\n        return [{type: 'skewY', angle: angle}];\n      };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$expected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return [peg$savedPos, peg$currPos];\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  var peg$VALIDFILENAME = typeof options.filename === \"string\" && options.filename.length > 0;\n  function peg$computeLocation(startPos, endPos) {\n    var loc = {};\n\n    if ( peg$VALIDFILENAME ) loc.filename = options.filename;\n\n    var startPosDetails = peg$computePosDetails(startPos);\n    loc.start = {\n      offset: startPos,\n      line: startPosDetails.line,\n      column: startPosDetails.column\n    };\n\n    var endPosDetails = peg$computePosDetails(endPos);\n    loc.end = {\n      offset: endPos,\n      line: endPosDetails.line,\n      column: endPosDetails.column\n    };\n\n    return loc;\n  }\n\n  function peg$begin() {\n    peg$expected.push({ pos: peg$currPos, variants: [] });\n  }\n\n  function peg$expect(expected) {\n    var top = peg$expected[peg$expected.length - 1];\n\n    if (peg$currPos < top.pos) { return; }\n\n    if (peg$currPos > top.pos) {\n      top.pos = peg$currPos;\n      top.variants = [];\n    }\n\n    top.variants.push(expected);\n  }\n\n  function peg$end(invert) {\n    var expected = peg$expected.pop();\n    var top = peg$expected[peg$expected.length - 1];\n    var variants = expected.variants;\n\n    if (top.pos !== expected.pos) { return; }\n\n    if (invert) {\n      variants = variants.map(function(e) {\n        return e.type === \"not\" ? e.expected : { type: \"not\", expected: e };\n      });\n    }\n\n    Array.prototype.push.apply(top.variants, variants);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found, location),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$buildError() {\n    var expected = peg$expected[0];\n    var failPos = expected.pos;\n\n    return peg$buildStructuredError(\n      expected.variants,\n      failPos < input.length ? input.charAt(failPos) : null,\n      failPos < input.length\n        ? peg$computeLocation(failPos, failPos + 1)\n        : peg$computeLocation(failPos, failPos)\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e0);\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              rule$expects(peg$e2);\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e3);\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e4);\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e5);\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e6);\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e7);\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e8);\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e9);\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e10);\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e11);\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e12);\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e13);\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  peg$begin();\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$expect(peg$endExpectation());\n    }\n\n    throw peg$buildError();\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n  peg$parse as parse\n};\n\nexport default {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\n","module.exports = __WEBPACK_EXTERNAL_MODULE__409__;","module.exports = __WEBPACK_EXTERNAL_MODULE__698__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(579);\n"],"sourceRoot":""}